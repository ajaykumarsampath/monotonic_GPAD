function [ tree ] = tree_generation(ops)%This function generated a random from the distribution with%braching_factor specified% we assume that the tree have a fixed probability that is given. tree = struct('stage',0,'value',zeros(1,ops.nx),'prob',1,...    'ancestor',0,'children',cell(1,1),'leaves',1);K=1;%nodes=1;for i=1:ops.N    K=K*ops.brch_ftr(i);    q=tree.leaves(end)+1:tree.leaves(end)+K;    tree.stage(q,1)=i*ones(K,1);    for j=1:size(tree.leaves,2)        l=(j-1)*ops.brch_ftr(i)+1:j*ops.brch_ftr(i);        tree.prob(q(l),1)=tree.prob(tree.leaves(j))*ops.prob{i,1}(l)';        tree.value(q(l),:)=0.1*rand(ops.brch_ftr(i),ops.nx);        tree.ancestor(q(l),1)=tree.leaves(j)*ones(ops.brch_ftr(i),1);        tree.children{tree.leaves(j),1}=q((j-1)*ops.brch_ftr(i)+1:j*ops.brch_ftr(i));    end    tree.leaves=q;endend